{% macro govukPhaseBanner(params) %}
{% from "govuk_frontend_jinja/components/tag/macro.html" import govukTag -%}

<div class="govuk-phase-banner
  {%- if params.classes %} {{ params.classes }}{% endif %}"
  {% for attribute, value in (params.attributes.items() if params.attributes else {}.items()) %} {{ attribute }}="{{ value }}"{% endfor %}
  role="complementary"
>
  <p class="govuk-phase-banner__content">
    {{ govukTag({
      'text': params.tag.text if params.tag and params.tag.text,
      'html': params.tag.html if params.tag and params.tag.html,
      'classes': "govuk-phase-banner__content__tag" + (" " + params.tag.classes if params.tag and params.tag.classes else '')
    }) | indent(4) | trim }}
    <span class="govuk-phase-banner__text">
      {{ params.html | safe if params.html else params.text }}
    </span>
  </p>
</div>

{% endmacro %}
